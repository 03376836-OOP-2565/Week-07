# User-defined Types

 Class เป็นตัวอย่างของ user defined type แต่อย่างไรก็ตามยังมี User-defined Types ได้อีกหลายชนิดด้วยกัน

Class ถูกมองเป็น Abstract Data Type (ADT) เนื่องจากถูกนำมาใช้สร้าง Type ที่ได้จากการนิยามวัะตถุในโลกจริงมาสร้างเป็น software นั้นเอง

การสร้าง User-defined type นั้นเราสามารถนำ predefined type มาประกอบกันหรือนำ ADT ชนิดอื่นมาประกอบเข้าด้วยกันก็ได้

องค์ประกอบแรกที่นักศึกษาต้องทำได้คือ กรารสร้าง field สำหรับ class โดยต้องเลือกชนิดของข้อมูลสำหรับ field ให้เหมาะสม เพราะเมื่อมีผู้นำ class ของเราไปใช้งานแล้วอาจจะเกิดปัญหาได้หลายอย่างเช่น 

- field มีความจุน้อยเกินไป ทำให้ไม่สามารถเก็บค่าที่ user ใส่เข้ามาได้
- field มีขนาดใหญ่เกินจำเป็น ทำให้สิ้นเปลืองเนื้อทื่ในหน่วยความจำ เนื่องจากคลาสที่เราสร้างนั้น สามารถนำไปสร้างวัตถุได้ไม่จำกัด


ตัวอย่างการนิยามวัตถุในปัญหาจากโลกจริงเป็น ADT

1. นาฬิกาบอกเวลา ทำหน้าที่บอกเวลาเป็นชั่วโมงและนาที มีตัวเลข 2 ตัวคือ ชั่วโมงและวินาที เราสามารถนิยามเป็นวัตถุที่ประกอบขึ้นจาก predefined type ที่เป็น byte (เก็บค่าได้ในช่วง 0 ~ 255) แทนเลขชั่วโมงและนาที เช่น

```cs
class NormalClock
{
    byte Hour;
    byte Munite;
}
```

2. ถ้านาฬิกาที่สร้าง ต้องการให้บอกเวลาละเอียดถึงหลักวินาที เราก็สามารถเพิ่มตัวเลขหลักวินาทีได้เช่นกัน

```cs
class PrecisionClock
{
    byte Hour;
    byte Munite;
    byte Second;
}
```

3. เราสามารถสร้างวัตถุวันที่ ได้จากการนำตัวเลข 3 ตัวที่แทน วัน เดือน และ ปี มาประกอบเข้าด้วยกัน เช่น

```cs
class CustomDate
{
    uint Year;      // เก็บค่าปี ค.ศ. หรือ พ.ศ. 
    byte Month;
    byte Day;
    byte WeekDay;   // วันอาทิตย์ ~ เสาร์
}
```

4. ถ้าเรามีวัตถุที่เป็นนาฬิกาและวันที่อยู่แล้ว เราสามารถสร้างวัตถุที่บอกเหตุการณ์หรือการนัดหมายได้ โดยการนำ ADT ที่มีอยู่แล้ว (ในข้อ 2 ~ 3) มาใช้โดยไม่ต้องสร้างขึ้นใหม่จาก predefined type ทั้งหมด เช่น

```cs
class Appointment
{
    PrecisionClock time;
    CustomDate date;
}
```

จะเทียบได้กับการประกาศ

```cs
class Appointment
{
    byte Hour;
    byte Munite;
    byte Second;
    uint Year;      
    byte Month;
    byte Day;
    byte WeekDay;   
}
```
 
## แบบฝึกหัด

ให้เขียนคลาส (ตามตัวอย่างในข้อ 4) ที่สามารถนำไปสร้างวัตถุที่มีมีรายละเอียดดังต่อไปนี้
บางข้อต้องสร้างชนิดข้อมูล ADT ขึ้นก่อน

1. คลาสบุคคล (Person) 

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ขื่อ (Name) | ข้อความ|
|สกุล (Family_Name) | ข้อความ|
|วันที่่เกิด (ฺBirthday) | วันเดือนปี (อาจจะต้องสร้าง ADT สำหรับวันเดือนปีก่อน)|

```cs
class birthday
{
    byte day;
    byte month;
    uint year;
} 

class person
{
    string name;
    string family_name;
    birthday date;
}
```
2. คลาสนักศึกษา (Student)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|รหัสนักศึกษา  | ตัวเลข 8 หลัก|
|รหัสสาขาวิชา  | ตัวเลข 2 หลัก|
|รหัสคณะ     | ตัวเลข 2 หลัก|


```cs
class student
{
    byte studentID;      
    byte subID;
    byte facID; 
}
```

3. คลาสบัญชีธนาคาร (ฺBankAccount)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ชื่อเจ้าของบัญชี  | ข้อความ|
|ยอดคงเหลือ  | ตัวเลขทางการเงิน|
|ชนิดบัญชี     | ตัวเลข 2 หลัก|
|อัตราดอกเบี้ย     | ตัวเลขทางการเงิน|


```cs
class bank
{
    string name;
    byte money;
    ulong type;
    double increase;      
}
```

4. คลาสรถยนต์ (ฺCar)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ชื่อเจ้าของ  | ข้อความ|
|เลขทะเบียน  | ข้อความ|
|ราคา     | ตัวเลขทางการเงิน|
|สี     | ข้อความ |

 
 ```cs
class car
{
    string name;
    string number;
    byte price;
    string color;      
}
```


5. คลาสคอมพิวเตอร์ (ฺComputer)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ความเร็วซีพียู  | GHz |
|ขนาดฮาร์ดดิสก์ | Gb|
|จำนวนหน่วยความจำ     | Gb |
|ขนาดหน้าจอ     | inch |
|ยีห้อ     | text |
|เพิ่ม RAM ได้หรือไม่ได้      | Boolean  |
|ชนิด     |(All in one, laptop, ...)  |
 
 ```cs
class computer
{
    byte CPU;
    byte HDD;
    byte SDD;
    double size;
    string brand;
    bool ram;
    string type;      
}
```

6. คลาสผู้ใช้คอมพิวเตอร์ (ฺInternetUser)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ID  | number |
|Login name | text |
|Password     | text |
|user type      | (admin, user)  |
|clock list      | bool (เข้าใช้ได้หรือไม่) |

 ```cs
class InternetUser
{
    uint ID;
    string name;
    string Password ;
    string type; 
    bool clock_list; 
}
```

7. คลาสไฟล์เก็บข้อมูล (ฺFileStorage)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ID  | number |
|ชื่อไฟล์ | text |
|ชนิดไฟล์ (extension)    | text |
|ที่ตั้ง (path)    | text |
|การอนุญาต permission       |  (read, wtire, archive) |

 ```cs
class InternetUser
{
    uint ID;
    string name;
    string type; 
    string path;
    string permission;
}
```


8. คลาสแหล่งน้ำ (ฺWaterResource)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ID  | number |
|ชื่อแหล่งน้ำ | text |
|ที่ตั้ง     | latitude, longitude   |
|ประเภท    | (เขื่อน, อ่างเก็บน้ำ, ห้วย, หนอง, คลอง, บึง ฯลฯ) |
|ประโยชน์หลัก       | (ผลิตไฟฟ้า, อุปโภคบริโภค, การเกษตร)  |
|ผู้รับผิดชอบ     | (การไฟฟ้า, กรมชลฯ, ส่วนท้องถิ่น)  |

```cs
class WaterResource
{
    uint ID;
    string name;
    string path;
    string type; 
    string benefit;
    string people;
}
```


9. คลาสเทหวัตถุอวกาศ (SpaceObject)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ID  |number |
|ชื่อเทหวัตถุ  | (อาทิตย์ จันทร์ ดาว... ฯลฯ) |
|ที่ตั้ง  (ในระบบใด)   | text |
|ประเภท    | (ดาวฤกษ์ ดาวเคราห์, เนบิวลา, ซูเปอร์โนวา, ฯลฯ) |
|ระยะห่างจากโลก      | number  |
|เวลาที่สังเกตุ      | วันเดือนปี  |
|พิกัดที่สังเกตุ      | latitude, longitude  |
|พิกัดบนท้องฟ้า     | text  |


```cs
class date
{
    byte day;
    byte month;
    uint year;
} 

class SpaceObject
{
    uint ID;
    string name;
    string path;
    string type; 
    byte distance;
    date time;
    string latitude_longitude;
    string sky;
}
```

10. คลาสการขนส่ง (Transport)

|ตัวแปร|ค่าที่เก็บ|
|-----|------|
|ID  | number |
|ชนิดของรถโดยสาร | text |
|ประจำทางหรือไม่   | bool  |
|อัตราค่าโดยสาร    |  (ตามระยะทาง (กี่บาทต่อกอโลเมตร)หรือมิเตอร์) |
|ต้นทาง  (ถ้าประจำทาง)    |  text |
|ปลายทาง (ถ้าประจำทาง)     | text  |
|ปรับอากาศหรือไม่       | bool  |
|มีอาหารเลี้ยงในระหว่างเดินทางหรือไม่      |  bool |

```cs

class SpaceObject
{
    uint ID;
    string type; 
    bool away;
    uint price;
    string path_start;
    string path_end; 
    bool air;
    bool food;
  
}
```



